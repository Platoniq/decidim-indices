<% section = form.object %>
<% is_expanded = section.errors.any? %>



<div class="card questionnaire-question" id="<%= id %>-field">
  <div class="card-divider question-divider">
    <h2 class="card-title">
      <%= dynamic_title(translated_attribute(section.title), class: "question-title-statement", max_length: 50, omission: "...", placeholder: t(".section")) %>
      <button type="button" class="button small secondary button--title question--collapse" data-toggle="<%= id %>-question-card button--collapse-question-<%= id %> button--expand-question-<%= id %>">
      <span id="button--collapse-question-<%= id %>" data-toggler=".hide" class="icon-collapse <%= "hide" unless is_expanded %>">
        <%== icon("caret-top", aria_label: t(".collapse"), role: "img") %>
      </span>

        <span id="button--expand-question-<%= id %>" data-toggler=".hide" class="icon-expand <%= "hide" if is_expanded %>">
        <%== icon("caret-bottom", aria_label: t(".expand"), role: "img") %>
      </span>
      </button>

      <button class="button small alert hollow remove-question button--title">
        <%= t(".remove") %>
      </button>

    </h2>
  </div>

  <div class="card-section collapsible <%= "hide" unless is_expanded %>" data-toggler=".hide" id="<%= id %>-question-card">
    <div class="row column">
      <%=
        form.translated(
          :text_field,
          :title,
          tabs_id: id,
          label: t(".title"),
        )
      %>
    </div>

    <div class="row column">
      <%=
        form.translated(
          :editor,
          :description,
          toolbar: :full,
          tabs_id: id,
          label: t(".description"),
        )
      %>
      <div class="row column">
        <%= form.number_field(:weight, min: 0, label: t(".weight")) %>
      </div>
    </div>
  </div>
</div>
